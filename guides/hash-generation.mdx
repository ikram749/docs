
---
title: Hash Generation
---

# 🔑 Hash Generation Guide

To ensure secure and tamper-proof API requests, all **Payment API** calls require a SHA-256 hash.  

This hash is generated from a concatenated string in **this exact order**:

clientSecret + customer_name + customer_email + customer_phone + order_no + amount + order_detail + paymentCode


> ⚠️ **Note:** If `payment_code` is not provided, fallback to `channel`.

---

## JavaScript (Browser)

```js
const paymentCode = formData.get('payment_code') || formData.get('channel');

const str = clientSecret +
  formData.get('customer_name') +
  formData.get('customer_email') +
  formData.get('customer_phone') +
  formData.get('order_no') +
  formData.get('amount') +
  formData.get('order_detail') +
  paymentCode;

const hashBuffer = await crypto.subtle.digest('SHA-256', new TextEncoder().encode(str));
const hash = Array.from(new Uint8Array(hashBuffer))
  .map(b => b.toString(16).padStart(2, '0'))
  .join('');

formData.set('hash', hash);


PHP
$stringToHash = $clientSecret
    . $data['customer_name']
    . $data['customer_email']
    . $data['customer_phone']
    . $data['order_no']
    . $data['amount']
    . $data['order_detail']
    . ($data['payment_code'] ?? $data['channel']);

$data['hash'] = hash('sha256', $stringToHash);


Java
import java.security.MessageDigest;
import java.nio.charset.StandardCharsets;
import java.math.BigInteger;

String str = clientSecret + customerName + customerEmail + customerPhone
           + orderNo + amount + orderDetail + (paymentCode != null ? paymentCode : channel);

MessageDigest md = MessageDigest.getInstance("SHA-256");
byte[] hash = md.digest(str.getBytes(StandardCharsets.UTF_8));
String finalHash = new BigInteger(1, hash).toString(16);




C# (ASP.NET)
using System.Security.Cryptography;
using System.Text;

string str = clientSecret + customer_name + customer_email + customer_phone
           + order_no + amount + order_detail
           + (!string.IsNullOrEmpty(payment_code) ? payment_code : channel);

using var sha = SHA256.Create();
string hash = string.Concat(sha.ComputeHash(Encoding.UTF8.GetBytes(str))
                    .Select(b => b.ToString("x2")));


---

### 📄 `guides/payment-channels.mdx`

```mdx
---
title: Payment Channels
---

# 💳 Payment Channels

SayabeliPay supports multiple payment channels. The `channel` field in your request must match one of these values:

| Channel         | Description                                      |
|-----------------|--------------------------------------------------|
| `ONLINE_BANKING` | Pay through online banking within Malaysia       |
| `CC`            | Pay with debit or credit card                    |
| `WALLET`        | Pay using supported local e-wallets in Malaysia  |

> ✅ If `ONLINE_BANKING` or `WALLET` is used, you must also specify a **`payment_code`** from the supported list.